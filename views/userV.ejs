<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="icon" type="image/x-icon" href="/assets/images/analyse-regular-24.png">
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
       

        <title>SYSTEM ADMIN</title>

        <link rel="stylesheet" href="/assets/style.css">
        <link rel="stylesheet" href="/assets/userV.css">
        <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        <link rel="stylesheet" href="/assets/design/bootstrap.css">

        <script src="/assets/design/chart.js"></script>
        <script src="/assets/index.js"></script>
        <script src="/assets/user.js"></script>
    </head>
    <body>
        
<section id="page">


<!-- ------------------------------------- -->
        <div id="navigation-bar">

         <div id="logo-company">
            <span id="icon-menu"><i class='bx bx-analyse' ></i></span>
            <span id="icon-menu">LiLiFin</span>
            <i class='bx bx-menu'id="menu-barx"></i>
         </div>

         <div id="menu-list">

            <a id="list" href="/">
            
              <span id="icon-menu"><i class="bx bx-home"></i></span>
              <span id="icon-menu">Dashboard</span>
             
            </a>
            <a id="list">
            
                <span id="icon-menu"><i class='bx bx-user-circle' ></i></span>
                <span id="icon-menu">Profile</span>
  
              </a>
            <a id="list" href="/analitic">
            
                <span id="icon-menu"><i class='bx bx-line-chart' ></i></span>
                <span id="icon-menu">Statistic</span>
  
              </a>
            <a id="list">
            
                <span id="icon-menu"><i class='bx bx-group'></i></span>
                <span id="icon-menu">Participants</span>
  
              </a>
              <a id="list">
            
                <span id="icon-menu"><i class='bx bxs-message-rounded'></i></span>
                <span id="icon-menu">Message</span>
  
              </a>
              <a id="list">
            
                <span id="icon-menu"><i class='bx bxs-cog'></i></span>
                <span id="icon-menu">Setting</span>
  
              </a>
              <a id="list">
            
                <span id="icon-menu"><i class='bx bx-log-in'></i></span>
                <span id="icon-menu">Login</span>
  
              </a>
              

         </div>


        </div>
<!-- -------------------------------------- -->

<!----------------------- main --------------->
        <div id="main">

            <div id="bar-top">
                <i class='bx bx-menu'id="menu-bar"></i>
                <input type="search" id="search-in" placeholder="Search">
                <div id="image-profile-acc">
                    <span><i class="bx bx-group"></i></span>
                </div>
            </div>
         
 
           
          <div id="home-page">

    
       

            <div class="container mt-5">
              <div id="t-dash">
                <h1 data='<%- JSON.stringify(participant) %>' id="table-participants">User Dashboard</h1>
              <div id="button-change" style="width: 100%; text-align:end">
              <button class="btn btn-success" id="editP">Edit Personal</button>
              <button class="btn btn-danger" id="editS">Edit School</button>
              <button class="btn btn-info" id="editF">Edit Financial</button>
              </div>
            </div>
              
              <!-- User Profile Card -->
              <% participant.forEach(participant => { %>
              <div class="card mb-4">
                  <div class="card-body">
                      <div class="row">
                          <div class="col-md-3">
                              <img src="/assets/images/prince.jpg" alt="User Profile Picture" class="img-fluid">
                          </div>
                          <div class="col-md-9">
                              <h5 class="card-title">Name: <%= participant.name %></h5>
                              <p class="card-text">Age: <%= participant.age %></p>
                              <p class="card-text">Field of Study: <%= participant.fieldOfStudies %></p>
                              <p class="card-text">Last Transaction: $100 on 2023-10-15</p>
                              <div id="graph-user" style="width: 40%; height: 100px">
                                <canvas id="UserChartM"></canvas>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <% }); %>

<!-- Table with More Than 8 Columns -->
<table class="table table-striped table-responsive">
  <h4 style="color: rgb(21, 159, 245);">Personal Info</h4>
  <thead>
      <tr>
          <th>Id</th>
          <th>name</th>
          <th>age</th>
          <th>gender</th>
          <th>phone</th>
          <th>email</th>
          <th>locationOfStaying</th>
          
          <!-- Add more columns as needed -->
      </tr>
  </thead>
  <tbody>
    <% participant.forEach(participant => { %>
      <tr>
          <td><%= participant.id %></td>
          <td class="table-success"><%= participant.name %></td>
          <td><%= participant.age %></td>
          <td><%= participant.gender %></td>
          <td class="table-success"><%= participant.phone %></td>
          <td><%= participant.email %></td>
          <td><%= participant.locationOfStaying %></td>
          
          <!-- Add more data rows as needed -->
      </tr>
      <% }); %>
  </tbody>
</table>


<!-- Table with More Than 8 Columns -->
<table class="table table-striped table-responsive">
  <h4 style="color: rgb(21, 159, 245);">School Info</h4>
  <thead>
      <tr>
          <th>schoolStudying</th>
          <th>fieldOfStudies</th>
          <th>academicYears</th>
          <th>totalYearsOfStudies</th>
          <th>startProgram</th>
          <th>totalTerm</th>
          <th>actualterm</th>
          <th>actualYearOfStudies</th>
          <th>statusOfStudy</th>
          
          <!-- Add more columns as needed -->
      </tr>
  </thead>
  <tbody>
    <% participant.forEach(participant => { %>
      <tr>
          <td class="table-success"><%= participant.schoolStudying %></td>
          <td><%= participant.fieldOfStudies %></td>
          <td><%= participant.academicYears %></td>
          <td><%= participant.totalYearsOfStudies %></td>
          <td><%= participant.startProgram %></td>
          <td><%= participant.totalTerm %></td>
          <td><%= participant.actualterm %></td>
          <td><%= participant.actualYearOfStudies %></td>
          <td><%= participant.statusOfStudy %></td>
          <!-- Add more data rows as needed -->
      </tr>
      <% }); %>
  </tbody>
</table>

<!-- Table with More Than 8 Columns -->
<table class="table table-striped table-responsive">
  <h4 style="color: rgb(21, 159, 245);">Financial Info</h4>
  <thead>
      <tr>
          <th>totalReceived</th>
          <th>totalSpent</th>
          <th>remainingBalance</th>
          <th>foundback</th>
          <th>fundbackBalance</th>
          <th>academicYears</th>
       
          
          <!-- Add more columns as needed -->
      </tr>
  </thead>
  <tbody>
    <% participant.forEach(participant => { %>
      <tr>
          <td class="table-success"><%= participant.totalReceived %></td>
          <td class="table-danger"><%= participant.totalSpent %></td>
          <td><%= participant.remainingBalance %></td>
          <td><%= participant.foundback %></td>
          <td class="table-warning"><%= participant.fundbackBalance %></td>
          <td><%= participant.academicYears %></td>
          <!-- Add more data rows as needed -->
      </tr>
      <% }); %>
  </tbody>
</table>



<div class="overlay" id="overlay">
  <div class="overlay-content">
      <button class="btn btn-danger" id="cancelDanger">Cancel</button>
      <button class="btn btn-success">Save</button>
  </div>
  <div id="formModify">
   
  </div>
</div>









          </div>






        </div>
<!----------------------------------------- -->

</section>
 

<script>
  /*

  //var participanttotalP = JSON.parse(document.getElementById('table-participantsP').getAttribute('datatotal'));
// Get a reference to the canvas element
const infoD = document.getElementById('infoChart').getContext('2d');

// Create the data for the doughnut chart
const data = {
  labels: ['pending', 'request', 'accepted', 'rejected'], // Labels for the chart sections
  datasets: [{
    data: [10, 40,30, 20], // Values for each section (adjust the values as needed)
    backgroundColor: ['rgb(27, 27, 239)', 'rgb(29, 147, 47)', 'rgb(238, 144, 22)','rgb(210, 8, 75)'], // Colors for each section
  }],
};

// Create the options for the doughnut chart
const options = {
  responsive: true,
  maintainAspectRatio: false,
};

// Create the doughnut chart
const doughnutChart = new Chart(infoD, {
  type: 'doughnut',
  data: data,
  options: options,
});








*/


var participant = JSON.parse(document.getElementById('table-participants').getAttribute('data'));

// Get a reference to the canvas element
const Users = document.getElementById('UserChartM').getContext('2d');

// Create the data for the doughnut chart
const datauser = {
  labels: [`Received = ${participant[0].totalReceived}`,`Returned amount = ${participant[0].fundbackBalance}`], // Labels for the chart sections
  datasets: [{
    data: [`${participant[0].totalReceived}`,`${participant[0].fundbackBalance}`], // Values for each section (adjust the values as needed)
    backgroundColor: ['rgba(234, 149, 21, 0.66)','rgba(21, 167, 234, 0.512)'], // Colors for each section
  }],
};

// Create the options for the doughnut chart
const optionsuser = {
  responsive: true,
  maintainAspectRatio: false,
};

// Create the doughnut chart
const doughnutChartuser = new Chart(Users, {
  type: 'doughnut',
  data: datauser,
  options: optionsuser,
});



</script>
    </body>
    </html>
